set(COMMON_HEADERS "${CMAKE_CURRENT_SOURCE_DIR}/common" CACHE STRING "" FORCE)
set(JSON_11_HEADER "${CMAKE_CURRENT_SOURCE_DIR}/json11" CACHE STRING "" FORCE)
set(JSON_11_SOURCE "${CMAKE_CURRENT_SOURCE_DIR}/json11/json11.cpp" CACHE STRING "" FORCE)
set(MONGOOSE_SOURCE "${CMAKE_CURRENT_SOURCE_DIR}/mongoose/mongoose.c" CACHE STRING "" FORCE)

set(MONGOOSE_INCLUDE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/mongoose" CACHE STRING "" FORCE)

mark_as_advanced(COMMON_HEADERS)
mark_as_advanced(JSON_11_HEADER)
mark_as_advanced(JSON_11_SOURCE)

if (WIN32 OR WIN64)
    if(CMAKE_SIZEOF_VOID_P EQUAL 8)
        set(SDL3_LIBRARIES "${CMAKE_CURRENT_SOURCE_DIR}/sdl3/bin/x64/SDL3.lib" CACHE STRING "" FORCE)
        set(SDL3_DLLS "${CMAKE_CURRENT_SOURCE_DIR}/sdl3/bin/x64/SDL3.dll" CACHE STRING "" FORCE)
    else()
        set(SDL3_LIBRARIES "${CMAKE_CURRENT_SOURCE_DIR}/sdl3/bin/x86/SDL3.lib" CACHE STRING "" FORCE)
        set(SDL3_DLLS "${CMAKE_CURRENT_SOURCE_DIR}/sdl3/bin/x86/SDL3.dll" CACHE STRING "" FORCE)
    endif()
    set(SDL3_INCLUDE_DIRS "${CMAKE_CURRENT_SOURCE_DIR}/sdl3/include" CACHE STRING "" FORCE)

else ()
    INCLUDE(FindPkgConfig)
    PKG_SEARCH_MODULE(SDL3 REQUIRED sdl3)
endif ()

add_subdirectory(libuiohook)
if(APPLE)
  target_compile_options(uiohook PRIVATE -Wno-error=return-type)
endif()
